## 프로그래밍 목표

1. **TDD (단위 테스트)**
2. **OOD**
3. 아키텍쳐 패턴 **MVC** 적용
4. **디자인 패턴** 적용

## 기능 구현 목표
### Flow
![FlowDiagram](FlowDiagram.png)
### 세부 기능
0. 모든 예외는 `[ERROR]`로 시작하며 입력값 예외 발생 시 해당 부분부터 재입력받는다.
1. 이벤트 주의 사항 안내
2. 식당 예상 방문 날짜 입력
3. 유효성 검사
   - 입력값이 숫자가 아닌 경우
   - 입력값이 1이상 31이하가 아닌 경우
4. 주문할 메뉴와 개수 입력
5. 유효성 검사
   - 메뉴가 여러 개일 때,  `,`로 구분되어 입력되지 않은 경우
   - 메뉴와 개수가 `-`로 구분되어 입력되지 않은 경우
   - 메뉴판에 없는 메뉴를 입력하는 경우
   - 메뉴의 개수가 숫자가 아닌 경우
   - 메뉴의 개수가 1 이상이 아닌 경우
   - 중복 메뉴를 입력한 경우
   - 음료만 주문한 경우
   - 주문 메뉴의 총 개수가 20 초과인 경우
6. 할인 전 총 주문 금액 계산
   - 10,000원 미만인 경우 증정 메뉴, 혜택 내역, 총혜택 금액을 계산하지 않는다.
7. 이벤트 확인
   > **증정 메뉴** 확인 - 증정 이벤트
   >
   > **할인 내역** 확인 - 크리스마스 디데이, 평일 or 주말, 특별 이벤트
   >
8. 할인 후 예상 결제 금액 계산
9. 총 헤택금 계산
10. 12월 이벤트 배지 부여

## 추가 사항
1. 지난 5년 중 최고의 판매 금액임을 계산하기 위해 **총 판매 금액을 계산**한다.
2. 참여 고객의 5%가 설날 이벤트에 재참여했는지 확인하기 위해 **참여 고객 수를 계산**한다.
3. 위의 1, 2 사항에 따라 **유저**를 구현 항목에 추가한다.
4. 추가 사항은 **비즈니스 팀**을 위한 기능이므로 유저는 이용할 수 없게 분리한다.
5. 위의 4 사항에 따라 프로젝트의 Model은 **싱글톤**으로 설계한다.

## 테스트 목표
1. 식당 예상 방문 날짜
   - [x]  입력값이 숫자인 경우 어떠한 예외도 반환되지 않는다.
   - [x]  입력값이 숫자가 아닌 경우 `IllegalArgumentException`이 반환되며 예외 메시지는 `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.`이다.
   - [x]  입력값이 1이상 31이하일 경우 어떠한 예외도 반환되지 않는다.
   - [x]  입력값이 1이상 31이하가 아닐 경우 `IllegalArgumentException`이 반환되며 예외 메시지는 `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.`이다.
   - [x]  입력값이 `Integer`일 경우 변환 시 어떠한 예외도 반환되지 않는다.
   - [x]  입력값이 `Integer`가 아닐 경우 `NumberFormatException`이 반환된다.
2. 주문할 메뉴와 메뉴 개수
   - [x]  메뉴가 `,`로, 메뉴 이름과 개수가 `-`로 구분될 경우 어떠한 예외도 반환되지 않는다.
   - [x]  메뉴가 `,`로, 메뉴 이름과 개수가 `-`로 구분되지 않을 경우 `IllegalArgumentException`이 반환되며 예외 메시지는 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`이다.
   - [x]  메뉴판에 있는 메뉴만을 입력한 경우 어떠한 예외도 반환되지 않는다.
   - [x]  메뉴판에 없는 메뉴를 하나라도 입력한 경우 `IllegalArgumentException`이 반환되며 예외 메시지는 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`이다.
   - [x]  메뉴의 주문 개수가 1 이상 20 이하인 경우 어떠한 예외도 반환되지 않는다.
   - [x]  메뉴의 주문 개수가 1 이상 20 이하가 아닌 경우 `IllegalArgumentException`이 반환되며 예외 메시지는 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`이다.
   - [x]  음료만 주문한 것이 아닌 경우 어떠한 예외도 반환되지 않는다.
   - [x]  음료만 주문할 경우 `IllegalArgumentException`이 반환되며 예외 메시지는 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`이다.
   - [x]  주문 메뉴의 총 개수가 1개 이상 20개 이하인 경우 어떠한 예외도 반환되지 않는다.
   - [x]  주문 메뉴의 총 개수가 1개 미만 20개 초과인 경우 `IllegalArgumentException`이 반환되며 예외 메시지는 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`이다.
   - [x]  중복된 메뉴를 입력하지 않은 경우 어떠한 예외도 반환되지 않는다.
   - [x]  중복된 메뉴를 입력한 경우 `IllegalArgumentException`이 반환되며 예외 메시지는 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`이다.
   - [x]  메뉴의 주문 개수가 숫자인 경우 어떠한 예외도 반환되지 않는다.
   - [x]  메뉴의 주문 개수가 숫자가 아닌 경우 `IllegalArgumentException`이 반환되며 예외 메시지는 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`이다.
3. 메뉴 가져오기
   - [x]  모든 메뉴를 가져온다.
   - [x]  카테고리에 맞는 메뉴만을 가져온다.
   - [x]  이름에 맞는 메뉴를 가져온다.
4. 할인 전 총 주문 금액 계산
   - [x]  할인 전 총 주문 금액을 계산한다.
5. 증정 메뉴 확인
   - [x]  할인 전 총 주문 금액이 12만원 이상일 경우 샴페인을 반환한다.
   - [x]  할인 전 총 주문 금액이 12만원 미만일 경우 NONE_MENU를 반환한다.
6. 할인 내역 확인
   - [x]  크리스마스 디데이 할인이 적용될 경우 할인가가 반환된다.
   - [x]  크리스마스 디데이 할인이 적용되지 않는 경우 0원이 반환된다.
   - [x]  평일일 경우 평일 할인가가 반환된다.
   - [x]  평일이 아닐 경우 0원이 반환된다.
   - [x]  주말일 경우 주말 할인가가 반환된다.
   - [x]  주말이 아닐 경우 0원이 반환된다.
   - [x]  특별 할인이 적용될 경우 할인가가 반환된다.
   - [x]  특별 할인이 적용되지 않는 경우 0원이 반환된다.
7. 할인 후 예상 결제 금액 계산
   - [x]  할인 내역을 통해 총 할인 금액을 반환한다.
   - [x]  총 할인 금액을 통해 할인 후 예상 결제 금액을 반환한다.
8. 총혜택 계산
   - [x]  혜택 내역(증정 메뉴 + 할인 내역)에 따라 총혜택 금액이 반환된다.
9. 배지 부여
   - [x]  총혜택이 5천원 미만인 경우, NONE_BADGE를 반환한다.
   - [x]  총혜택이 5천원 이상, 1만원 미만인 경우, 별 배지를 반환한다.
   - [x]  총혜택이 1만원 이상, 2만원 미만인 경우, 트리 배지를 반환한다.
   - [x]  총혜택이 2만원 이상인 경우, 산타 배지를 반환한다.
10. 추가 기능
    - [ ]  User의 역할이 Admin일 경우 어떠한 예외도 반환하지 않는다. -> 검증에 성공한다.
    - [ ]  User의 역할이 Clinet일 경우 `UnauthroizedAccessException`을 반환한다. -> 검증에 실패한다.
    - [ ]  총 수익률을 계산한다.
    - [ ]  12월 이벤트 참여 유저 수를 계산한다.
    - [ ]  `eventService`와 `userService`의 `Users`의 인스턴스가 같은지 확인한다. -> 싱글톤 확인